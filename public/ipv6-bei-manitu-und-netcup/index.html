<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title>IPv6 bei manitu und netcup :: Gibt&#39;s doch gar nicht</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ich fahre schon eine ganze Weile meinen Hauptserver bei manitu und mein Backupserver ist aktuell bei netcup (u. a. die Verfügbarkeit von IPv6 ließ mich damals wechseln). Also (fast) alle Dienste laufen auf manitu und die Konfiguration wird täglich als Sicherung zu meinem netcup-Server übertragen (welcher aber nebenher auch 2 oder 3 Dienste bereitstellt, welche aus diversen Gründen nicht bei manitu liegen – meist wollte ich den Hauptserver nicht zu sehr in die Schusslinie bringen).
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://localhost:1313/ipv6-bei-manitu-und-netcup/" />





  
  <link rel="stylesheet" href="http://localhost:1313/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/code.min.4f0ccc8439f99bf7f7970298556b94011aabc1fcae743b6842fc3361a2da9ea3.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/main.min.15870410d15d02abd22fb5ef00996f65a00d04b3a7435e9f83831c7c2298de88.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="http://localhost:1313/terminal.css">




<link rel="shortcut icon" href="http://localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="sven" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="IPv6 bei manitu und netcup">
<meta property="og:description" content="Ich fahre schon eine ganze Weile meinen Hauptserver bei manitu und mein Backupserver ist aktuell bei netcup (u. a. die Verfügbarkeit von IPv6 ließ mich damals wechseln). Also (fast) alle Dienste laufen auf manitu und die Konfiguration wird täglich als Sicherung zu meinem netcup-Server übertragen (welcher aber nebenher auch 2 oder 3 Dienste bereitstellt, welche aus diversen Gründen nicht bei manitu liegen – meist wollte ich den Hauptserver nicht zu sehr in die Schusslinie bringen).
" />
<meta property="og:url" content="http://localhost:1313/ipv6-bei-manitu-und-netcup/" />
<meta property="og:site_name" content="Gibt&#39;s doch gar nicht" />

  <meta property="og:image" content="http://localhost:1313/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">

  <meta property="article:section" content="Debian" />

  <meta property="article:section" content="IPv6" />


  <meta property="article:published_time" content="2015-10-11 11:45:02 &#43;0000 UTC" />












</head>
<body>


<div class="container full">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Gibt&#39;s doch gar nicht
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/gar-nicht-oder-garnicht">Gar nicht oder garnicht</a></li>
        
      
        
          <li><a href="/impressum">Impressum</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/gar-nicht-oder-garnicht" >Gar nicht oder garnicht</a></li>
        
      
        
          <li><a href="/impressum" >Impressum</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/ipv6-bei-manitu-und-netcup/">IPv6 bei manitu und netcup</a>
  </h1>
  <div class="post-meta"><time class="post-date">2015-10-11</time><span class="post-author">sven</span><span class="post-reading-time">3 min read (477 words)</span></div>

  
  


  

  <div class="post-content"><div>
        <p>Ich fahre schon eine ganze Weile meinen Hauptserver bei <a href="https://www.manitu.de/">manitu</a> und mein Backupserver ist aktuell bei <a href="https://www.netcup.de/">netcup</a> (u. a. die Verfügbarkeit von <a href="https://de.wikipedia.org/wiki/IPv6">IPv6</a> ließ mich damals wechseln). Also (fast) alle Dienste laufen auf manitu und die Konfiguration wird täglich als Sicherung zu meinem netcup-Server übertragen (welcher aber nebenher auch 2 oder 3 Dienste bereitstellt, welche aus diversen Gründen nicht bei manitu liegen – meist wollte ich den Hauptserver nicht zu sehr in die Schusslinie bringen).</p>
<p>Wie auch immer, bei beiden Anbietern könnt Ihr bequem im Kundeninterface IPv6 aktivieren und bekommt einen Adressblock mit Millionen von Adressen (und damit wäre auch schon einer der riesigen Vorteile von IPv6 genannt – jeder Dienst, jede Subdomain bekommt bei mir seither eine eigene IPv6 – bei IPv4 musste ich bis dato mit ingesamt fünf auskommen).</p>
<p>In der Aktiverung der Adressen unterscheiden sich die beiden aber etwas. Zum einen habe ich bei manitu noch Debian 7.x am laufen, zum anderen ist die Maschine bei netcup nur virtuell.</p>
<p>Bei manitu / Debian 7.x füge ich neue Adressen in /etc/network/interface so hinzu:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># The primary network interface</span>
</span></span><span style="display:flex;"><span>auto eth0
</span></span><span style="display:flex;"><span>iface eth0 inet static
</span></span><span style="display:flex;"><span>address 89.238.64.35
</span></span><span style="display:flex;"><span>netmask 255.255.255.0
</span></span><span style="display:flex;"><span>network 89.238.64.0broadcast 89.238.64.255
</span></span><span style="display:flex;"><span>gateway 89.238.64.1
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dns-* options are implemented by the resolvconf package, if installed</span>
</span></span><span style="display:flex;"><span>dns-nameservers 217.11.48.200 217.11.49.200
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>iface eth0 inet6 static
</span></span><span style="display:flex;"><span>address 2a00:1828:2000:370::2
</span></span><span style="display:flex;"><span>netmask <span style="color:#ae81ff">64</span>
</span></span><span style="display:flex;"><span>gateway 2a00:1828:2000:370::1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>up /sbin/ifconfig eth0 inet6 add 2a00:1828:2000:370::3/64
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>up /sbin/ifconfig eth0 inet6 add 2a00:1828:2000:370::4/64
</span></span></code></pre></div><p>Oder kurzgefasst: die erste IPv6 gebe ich direkt per address an, alle weiteren mittels /sbin/ifconfig eth0 inet6 add 2a00:1828:2000:370::xxxx/64.</p>
<p>Als positiven Nebeneffekt kann man den entsprechenden ifconfig-Aufruf einfach in die Shell werfen und das Interface ist sofort da.</p>
<p>Bei netcup / Debian 8 sieht es etwas anders aus. Auch dort ist ein Eintrag in /etc/network/interfaces zu platzieren, welcher aber wie folgt aufgebaut ist:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># The primary network interface</span>
</span></span><span style="display:flex;"><span>auto eth0
</span></span><span style="display:flex;"><span>iface eth0 inet static
</span></span><span style="display:flex;"><span>address 37.120.175.72
</span></span><span style="display:flex;"><span>netmask 255.255.252.0
</span></span><span style="display:flex;"><span>broadcast 37.120.175.255gateway 37.120.172.1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>iface eth0 inet6 stati
</span></span><span style="display:flex;"><span>address 2a03:4000:6:70b3::1
</span></span><span style="display:flex;"><span>netmask 64gateway fe80::1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>auto eth0:1
</span></span><span style="display:flex;"><span>iface eth0:1 inet6 static
</span></span><span style="display:flex;"><span>address 2a03:4000:6:70b3::2&lt;br&gt;&lt;/br&gt;netmask <span style="color:#ae81ff">64</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>auto eth0:2
</span></span><span style="display:flex;"><span>iface eth0:2 inet6 static
</span></span><span style="display:flex;"><span>address 2a03:4000:6:70b3::3
</span></span><span style="display:flex;"><span>netmask <span style="color:#ae81ff">64</span>
</span></span></code></pre></div><p>Hier werden also alle Adressen mittels eines neues eth0:x-Eintrages hinzugefügt. Es gibt zwei böse Fallen, welche einen bei einem netcup-vServer erwarten:</p>
<ol>
<li>Die Änderung wird erst aktiv, wenn man den virtuellen Server <strong>ausschaltet</strong>. Und damit meine ich im Kundeninterface den Power-Off, nicht ein „reboot“ oder ähnlich in der Shell.</li>
<li>Wenn man die IPv6-Adressen hinzufügt, dann sind diese ja statisch (wie man auch sieht). Dabei muss man aber auf jeden Fall <strong>auch jene vom IPv4 statisch setzen</strong>. Lässt man diese auf DHCP (was der Default ist), so läuft es einige Minuten (ca. eine halbe Stunde im Schnitt) wie es soll. Dann holt sich die IPv4 per DHCP ein Update und überschreibt in dem Schritt die Default-Route des IPv6 mit. Die Adressen sind dann noch da, mangels korrektem Routing sind sie aber nicht erreichbar. Durch die Verzögerung eine böse Falle.</li>
</ol>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h"></span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="http://localhost:1313/uconnect-8-4an/" class="button inline prev">
        &lt; [<span class="button__text">uConnect 8.4A(N)</span>]
      </a>
    
    
      ::
    
    
      <a href="http://localhost:1313/von-apache-zu-nginx-mit-ipv6-und-ssl/" class="button inline next">
         [<span class="button__text">Von Apache zu nginx mit IPv6 und SSL</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>Sven Walther</span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
